import chalk = require("chalk");
import { ProjectDirectoryConfigService, ProjectDirectoryConfig } from "../services/project-directory-config.service";

export class ContextCommandHandler {
  private _configService: ProjectDirectoryConfigService;

  public constructor() {
    this._configService = new ProjectDirectoryConfigService();
  }

  public async run(): Promise<ProjectDirectoryConfig> {
    const context = this._configService.get();
    console.log(`Project Id: ${chalk.cyan(context.projectId)}`);
    console.log(`Subsystem Id: ${chalk.cyan(context.subsystemId)}`);
    console.log(`Default environment: ${chalk.cyan(context.defaultEnvironment)}`); 
    console.log();
    return context;
  }
}
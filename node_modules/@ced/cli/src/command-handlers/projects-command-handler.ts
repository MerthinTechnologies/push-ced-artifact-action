import chalk = require("chalk");
import { ProjectService } from "../services/project.service";

export class ProjectsCommandHandler {
  private _projectService: ProjectService;

  public constructor(token?: string) {
    this._projectService = new ProjectService(token);
  }

  public async run(): Promise<any[]> {
    const projects = await this._projectService.getAll();
    console.log(`Projects:`);
    for (const project of projects) {
      console.log(`  ${project.name} ${chalk.cyan('(' + project.id + ')')}`);
    }
    console.log();
    return projects;
  }

}
import * as chalk from "chalk";
import { SecurityService } from "../services/security.service";

export class SessionCommandHandler {
  private _securityService: SecurityService;

  public constructor(token?: string) {
    this._securityService = new SecurityService(token);
  }

  public async run(): Promise<any> {
    const session = await this._securityService.getSession();
    console.log(`You are logged in as ${chalk.cyan(session.user)} in ${chalk.cyan(session.organization)} organization.`);
    console.log();
    return session;
  }
}
import * as axios from 'axios';
import { config } from '../config/config';
import { AuthService } from './auth.service';

export class OrganizationService {

  public constructor(private _token?: string) {
  }

  public async getOrganization(): Promise<string> {
    const authService = new AuthService();
    const token = authService.getTokenOrThrow(this._token);
    const url = `${config.serverBaseUrl}/security/cli-token-org`;
    const response = await axios.default.get(url,{
      headers: {
        "cli-token": token,
      }
    });
    return response.data;
  }
}
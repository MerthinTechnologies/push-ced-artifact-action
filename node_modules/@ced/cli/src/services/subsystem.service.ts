import * as axios from 'axios';
import { config } from '../config/config';
import { AuthService } from './auth.service';

export class SubsystemService {

  public constructor(private _token?: string) {
  }

  public async getById(projectId: string, environment: string, subsystemId: string): Promise<any> {
    const authService = new AuthService();
    const token = authService.getTokenOrThrow(this._token);
    const url = `${config.serverBaseUrl}/projects/${projectId}/environments/${environment}/subsystems/${subsystemId}`;
    const response = await axios.default.get(url,{
      headers: {
        "cli-token": token,
      }
    });
    return response.data;
  }
}
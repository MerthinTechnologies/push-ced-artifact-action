import * as program from 'commander';
import { CreateVersionCommandHandler } from '../command-handlers/create-version-command-handler';

export class CreateVersionCommand {

  public static install() {
    program
      .command('create-version')
      .description('Create version.')
      .option('-e, --environment <environment>', 'CED environment.')
      .option('-r, --raw', 'Return version name in raw output.') 
      .action(async (options) => {
        const handler = new CreateVersionCommandHandler(options.parent?.token);
        await handler.run(options.environment, options.raw);
      });
  }
}
import * as program from 'commander';
import { InitCommandHandler } from '../command-handlers/init-command-handler';

export class InitCommand {

  public static install() {
    program
      .command('init [projectId] [defaultEnvironment] [subsystemId]')
      .description('Initialize current directory as a CED project.')
      .action(async (projectId: string, defaultEnvironment: string, subsystemId: string, options) => {
        const handler = new InitCommandHandler(options.parent?.token);
        await handler.run(projectId, defaultEnvironment, subsystemId);
      });
  }
}
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const auth_service_1 = require("../services/auth.service");
class LoginCommandHandler {
    constructor() {
        this._authService = new auth_service_1.AuthService();
    }
    async run(headlessMode) {
        const requestToken = await this._authService.startLogin();
        console.log('  Waiting for login...');
        const token = await this._authService.waitForToken(requestToken);
        console.log('  Login completed.');
        if (headlessMode) {
            console.log();
            console.log('  Token: ' + token);
        }
        else {
            this._authService.setTokens(requestToken, token);
        }
        console.log();
    }
}
exports.LoginCommandHandler = LoginCommandHandler;
//# sourceMappingURL=login-command-handler.js.map